@using ElProApp.Web.Models.Team
@model TeamViewModel

@{
    ViewData["Title"] = "Информация за екипа";
}

<div class="container mt-4">
    <h1 class="display-4">Details for @Model.Name</h1>

    <div class="mb-4">
        <h3>Team Information</h3>
        <p><strong>Team ID:</strong> @Model.Id</p>
        <p><strong>Team Name:</strong> @Model.Name</p>
    </div>

    <div class="mb-4">
        <h4>Buildings Associated with Team</h4>
        <ul class="list-group">
            @if (Model.BuildingWithTeam != null && Model.BuildingWithTeam.Any())
            {
                foreach (var building in Model.BuildingWithTeam)
                {
                    <li class="list-group-item">
                        <strong>Building ID:</strong> @building.BuildingId
                        <br />
                        <strong>Building Name:</strong> @building.Building?.Name
                    </li>
                }
            }
            else
            {
                <li class="list-group-item">No buildings associated with this team.</li>
            }
        </ul>
    </div>

    <div class="mb-4">
        <h4>Jobs Done by Team</h4>
        <ul class="list-group">
            @if (Model.JobsDoneByTeam != null && Model.JobsDoneByTeam.Any())
            {
                foreach (var job in Model.JobsDoneByTeam)
                {
                    <li class="list-group-item">
                        <strong>Job ID:</strong> @job.JobDone.JobId
                        <br />
                        <strong>Job Description:</strong> @job.JobDone.Job?.Name
                    </li>
                }
            }
            else
            {
                <li class="list-group-item">No jobs done by this team.</li>
            }
        </ul>
    </div>

    <div class="mb-4">
        <h4>Employees in Team</h4>
        <ul class="list-group">
            @if (Model.EmployeesInTeam != null)
            {
                foreach (var employee in Model.EmployeesInTeam)
                {
                    <li class="list-group-item">
                        <strong>Employee ID:</strong> @employee.EmployeeId
                        <br />
                        <strong>Employee Name:</strong> @employee.Employee?.FirstName
                    </li>
                }
            }
            else
            {
                <li class="list-group-item">No employees in this team.</li>
            }
        </ul>
    </div>

    <div class="mt-4">
        <a asp-action="All" class="btn btn-secondary">Back to Team List</a>
        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary ml-2">Редактирай</a>
    </div>
</div>
